<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>美团首页</title>
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<link rel="stylesheet" type="text/css" href="../css/shouye.css">
</head>
<body>
<!-- header -->
	<div class="header">
		<a class="xiAn" href="#">西安</a>
		<img class="photoOne" src="../img/1.png">
		<span>阴&nbsp;&nbsp;5</span>
		<input type="text" class="btn" placeholder="尚都酒店">
		<img class="photoTwo" src="../img/3.png">
		<div class="photoThree">
			<img src="../img/2.png">
		</div>
	</div>
<div class="mkl">
<!-- banner -->
	<div class="banner">
		<div class="bannerbox">
                <div class="box">
                    <a href="javascript:;"><img src="../img/timg.jpg" alt=""></a>
                </div>
            </div>

             <div class="bannerbox">
                <div class="box">
                    <a href="javascript:;"><img src="../img/timg1.jpg" alt=""></a>
                </div>
            </div>

             <div class="bannerbox">
                <div class="box">
                    <a href="javascript:;"><img src="../img/timg2.jpg" alt=""></a>
                </div>
            </div>
	</div>
<!-- section -->
	<div class="section">
		<div class="watch">
			<div class="watchone">
				<div class="food">
					<a href="food.html">
						<img class="foodphoto" src="../img/5.png">
						<span class="meishi">美食</span>
					</a>
				</div>
				<div class="food">
					<a href="food.html">
						<img class="foodphoto" src="../img/5.png">
						<span class="meishi">美食</span>
					</a>
				</div>
				<div class="food">
					<a href="food.html">
						<img class="foodphoto" src="../img/5.png">
						<span class="meishi">美食</span>
					</a>
				</div>
				<div class="food">
					<a href="food.html">
						<img class="foodphoto" src="../img/5.png">
						<span class="meishi">美食</span>
					</a>
				</div>
				<div class="food">
					<a href="food.html">
						<img class="foodphoto" src="../img/5.png">
						<span class="meishi">美食</span>
					</a>
				</div>		
			</div>
			<div class="apartment">
				<div class="watchtwo">
					<div class="watchthree">
						<a href="#">
						<img class="imgphoto" src="../img/7.png">
						<span class="spanvbn">民宿/公寓</span>
					</a>
					</div>
					<div class="watchthree">
						<a href="#">
						<img class="imgphoto" src="../img/7.png">
						<span class="spanvbn">民宿/公寓</span>
					</a>
					</div>
					<div class="watchthree">
						<a href="#">
						<img class="imgphoto" src="../img/7.png">
						<span class="spanvbn">民宿/公寓</span>
					</a>
					</div>
					<div class="watchthree">
						<a href="#">
						<img class="imgphoto" src="../img/7.png">
						<span class="spanvbn">民宿/公寓</span>
					</a>
					</div>
					<div class="watchthree">
						<a href="#">
						<img class="imgphoto" src="../img/7.png">
						<span class="spanvbn">民宿/公寓</span>
					</a>
					</div>
				</div>
			</div>
			<div class="apartment1">
				<div class="watchtwo">
					<div class="watchthree">
						<a href="#">
						<img class="imgphoto" src="../img/7.png">
						<span class="spanvbn">民宿/公寓</span>
					</a>
					</div>
					<div class="watchthree">
						<a href="#">
						<img class="imgphoto" src="../img/7.png">
						<span class="spanvbn">民宿/公寓</span>
					</a>
					</div>
					<div class="watchthree">
						<a href="#">
						<img class="imgphoto" src="../img/7.png">
						<span class="spanvbn">民宿/公寓</span>
					</a>
					</div>
					<div class="watchthree">
						<a href="#">
						<img class="imgphoto" src="../img/7.png">
						<span class="spanvbn">民宿/公寓</span>
					</a>
					</div>
					<div class="watchthree">
						<a href="#">
						<img class="imgphoto" src="../img/8.png">
						<span class="spanvbn12">更多</span>
					</a>
					</div>
				</div>
			</div>
		</div>
	</div>
<!-- nav -->
	<div class="firstone">
		<div class="nav">
			<div class="navd">
				<div class="navb">
					<a href="#">
						<img src="../img/9.png">
					</a>
				</div>
				<div class="navb">
					<a href="#">
						<img src="../img/9.png">
					</a>
				</div>
			</div>
		</div>

		<div class="nav1">
			<div class="navd">
				<div class="navb">
					<a href="#">
						<img src="../img/9.png">
					</a>
				</div>
				<div class="navb">
					<a href="#">
						<img src="../img/9.png">
					</a>
				</div>
			</div>
		</div>
		
		<div class="nav1">
			<div class="navd">
				<div class="navb">
					<a href="#">
						<img src="../img/9.png">
					</a>
				</div>
				<div class="navb">
					<a href="#">
						<img src="../img/9.png">
					</a>
				</div>
			</div>
		</div>
	</div>
<!-- hgroup -->
	<div class="hgroup">
		<a href="#"><img src="../img/44.png"></a>
	</div>
	<div class="guess">
		<img class="solid" src="../img/45.png">
		<span>猜你喜欢</span>
		<img class="solid1" src="../img/45.png">
	</div>
	<div class="strip">
		<div class="photonm">
			<div class="photonm12">
				<a href="#"><img src="../img/46.png"></a>
			</div>
			<div class="take-out">
				<span class="lahuang">辣煌尚现做辣条</span>
				<span class="waimai">外卖</span>
				<span class="delivery">30分钟送达</span>
				<span class="theprice">起送价￥15|配送费￥2.5
					<p>月售853</p>
					<a href="#"><img src="../img/47.png"></a>
				</span>
				<span class="discount">满20减9,满30减14</span>
			</div>
		</div>
	</div>
	<div class="strip">
		<div class="photonm">
			<div class="photonm12">
				<a href="#"><img src="../img/46.png"></a>
			</div>
			<div class="take-out">
				<span class="lahuang">辣煌尚现做辣条</span>
				<span class="waimai">外卖</span>
				<span class="delivery">30分钟送达</span>
				<span class="theprice">起送价￥15|配送费￥2.5
					<p>月售853</p>
					<a href="#"><img src="../img/47.png"></a>
				</span>
				<span class="discount">满20减9,满30减14</span>
			</div>
		</div>
	</div>
	<div class="strip">
		<div class="photonm">
			<div class="photonm12">
				<a href="#"><img src="../img/46.png"></a>
			</div>
			<div class="take-out">
				<span class="lahuang">辣煌尚现做辣条</span>
				<span class="waimai">外卖</span>
				<span class="delivery">30分钟送达</span>
				<span class="theprice">起送价￥15|配送费￥2.5
					<p>月售853</p>
					<a href="#"><img src="../img/47.png"></a>
				</span>
				<span class="discount">满20减9,满30减14</span>
			</div>
		</div>
	</div>
	<div class="strip">
		<div class="photonm">
			<div class="photonm12">
				<a href="#"><img src="../img/46.png"></a>
			</div>
			<div class="take-out">
				<span class="lahuang">辣煌尚现做辣条</span>
				<span class="waimai">外卖</span>
				<span class="delivery">30分钟送达</span>
				<span class="theprice">起送价￥15|配送费￥2.5
					<p>月售853</p>
					<a href="#"><img src="../img/47.png"></a>
				</span>
				<span class="discount">满20减9,满30减14</span>
			</div>
		</div>
	</div>
</div>
<!-- footer -->
	<div class="footer">
		
		<div class="ad">
			<a href="shouye.html">
				<img src="../img/6.png"/>
				<p>首页</p>
			</a>
		</div>
		<div class="ad">
			<a href="found.html">
				<img src="../img/10.png"/>
				<p>发现</p>
			</a>
		</div>
		<div class="ad">
			<a href="order.html">
				<img src="../img/11.png"/>
				<p>订单</p>
		</a>
		</div>
		<div class="ad">
			<a href="Set.html">
				<img src="../img/12.png"/>
				<p>我的</p>
			</a>
		</div>

	</div>
</body>
</html>
<script type="text/javascript">
	  function $(str){
        if(str.charAt(0)=="#"){
            return document.getElementById(str.substring(1));
        }else if(str.charAt(0)=="."){
            return document.getElementsByClassName(str.substring(1));
        }else{
            return document.getElementsByTagName(str);
        }
    }

window.onload = function(){
    slide();
   
}	

function slide(){
    let myTimer;//定义定时器
    let index = 0;//记录当前图片的序号，从0开始
    //1、自动变换图片，同时变豆豆
    function autoPlay() {
        myTimer = setInterval(function(){
            //1、改变数据
            let outIndex = index;//出的图片序号
            let len =$(".bannerbox").length;
            index=index+1;
            //2、判断边界
            if(index>len){
                index=0;
            }
            //3、改变外观
            showImg(index,outIndex);
        },3000);
    }
    function stopPlay() {
        window.clearInterval(myTimer);
    }
    function goImg(transIndex) {
        //1、改变数据（改变当前图片的序号）
        let outIndex = index;
        index = transIndex;
        //3、改变外观
        showImg(index,outIndex);
    }
    function showImg(inIndex,outIndex) {
        if(inIndex==outIndex){
            return;
        }
        //3.1 改变图片的z-index
        let imgs = $(".bannerbox");
        imgs[inIndex].style.left = "3.75rem";
        slideInOut(imgs[outIndex],imgs[inIndex],"left",-3.75,3.75,1000);
        
    }
    function slideInOut(domObjOut,domObjIn,attr,endValue,offset,timeLong,func) {
        let startValue = parseFloat(getStyle(domObjOut,attr));//??
        let direction= endValue-startValue>0?1:-1;//??	
        let timeSpace = 10;
        let step = Math.abs(endValue-startValue)/(timeLong/timeSpace) // endValue-startValue/步子数;//
        
        let currValue = startValue;
        let myTimer = setInterval(function(){
            //1、改变数据
            currValue = currValue+direction*step;    
            //2、判断边界
            if(Math.abs(currValue-endValue)<step){
                currValue = endValue;
                window.clearInterval(myTimer);
                func&&func();
            }
            //3、改变外观
            domObjOut.style[attr] = currValue+"rem";
            domObjIn.style[attr] = (currValue+offset)+"rem";    
        },timeSpace);
    }
    function getStyle(domObj,attr){
        if(domObj.currentStyle){//domObj.currentStyle如果能够正确获取到，那就真
            return domObj.currentStyle[attr];//当对象的属性名是变量时，用方括号而不是点。
        }else{
            return window.getComputedStyle(domObj)[attr];
        }	
    }
    //1、自动变换图片，同时变豆豆
    autoPlay();
    //2、鼠标放上停止自动变换
	$(".bannerbox")[0].onmouseover = function () {
		stopPlay();
	}
	//3、鼠标离开，继续自动变换
	$(".bannerbox")[0].onmouseout = function () {
		autoPlay();
	}
}

</script>